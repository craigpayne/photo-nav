!function(t){function e(t,e,o){this.id=t,this.coordinates=e,this.active=o}var o,n,i,r,s,c,l,a={speed:500,keys:{left:37,right:39}},h={init:function(h){return s=t.extend(a,h),c=this,l=[],o=function(t){if(!t)var t=window.event;switch(t.keyCode){case s.keys.left:i(0);break;case s.keys.right:i(1)}},n=function(){var e=t(window),o={top:e.scrollTop(),left:e.scrollLeft()};o.right=o.left+e.width(),o.bottom=o.top+e.height(),changeStatus(!1);for(var n=0;n<l.length;n++)if(!(o.right<l[n].coordinates.left||o.left>l[n].coordinates.right||o.bottom<l[n].coordinates.top||o.top>l[n].coordinates.bottom)){l[n].active=!0;break}o.top<=l[0].coordinates.top&&(l[0].active=!0),o.top>=l[l.length-1].coordinates.top&&(l[l.length-1].active=!0)},r=function(){t(c).each(function(o){var n=o,i=t(this).offset();i.right=i.left+t(this).outerWidth(),i.bottom=i.top+t(this).outerHeight();var r=!1,s=new e(n,i,r);l.push(s)})},changeStatus=function(t){for(var e=0;e<l.length;e++)l[e].active=t},getCurrentElement=function(){for(var t=0;t<l.length;t++)if(l[t].active)return l[t]},getElementById=function(t){for(var e=0;e<l.length;e++)if(l[e].id==t)return l[e]},getPrevNextElement=function(){var t=getCurrentElement(),e=[];return 0==t.id?e.push(t):e.push(getElementById(t.id-1)),t.id==l.length-1?e.push(t):e.push(getElementById(t.id+1)),e},i=function(e){var o=getCurrentElement(),n=getPrevNextElement();t(window).scrollTop()!=o.coordinates.top&&scrollTo(o.coordinates.top),t(window).scrollTop()==o.coordinates.top&&(console.log("here"),console.log("x"+e),console.log(n),scrollTo(n[e].coordinates.top))},scrollTo=function(e){t("html, body").stop().animate({scrollTop:e},s.speed)},r(),n(),t(document).bind("keydown",o),t(window).bind("scroll",n),this},destroy:function(){return this}};t.fn.navigate=function(e){return h[e]?h[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.navigate"),void 0):h.init.apply(this,arguments)}}(jQuery);