!function(t){function e(t,e,o){this.id=t,this.coordinates=e,this.active=o}var o,n,i,r,a,s,c,l={speed:500,keys:{left:37,right:39,j:74,k:75}},h={init:function(h){return a=t.extend(l,h),s=this,c=[],o=function(t){if(!t)var t=window.event;switch(t.keyCode){case a.keys.left:i(0);break;case a.keys.right:i(1);break;case a.keys.j:i(0);break;case a.keys.k:i(1)}},n=function(){var e=t(window),o={top:e.scrollTop(),left:e.scrollLeft()};o.right=o.left+e.width(),o.bottom=o.top+e.height(),changeStatus(!1);for(var n=0;n<c.length;n++)if(!(o.right<c[n].coordinates.left||o.left>c[n].coordinates.right||o.bottom<c[n].coordinates.top||o.top>c[n].coordinates.bottom)){c[n].active=!0;break}o.top<=c[0].coordinates.top&&(c[0].active=!0),o.top>=c[c.length-1].coordinates.top&&(c[c.length-1].active=!0)},reinitialize=function(){c=[],r(),n()},r=function(){t(s).each(function(o){var n=o,i=t(this).offset();i.right=i.left+t(this).outerWidth(),i.bottom=i.top+t(this).outerHeight();var r=!1,a=new e(n,i,r);c.push(a)})},changeStatus=function(t){for(var e=0;e<c.length;e++)c[e].active=t},getCurrentElement=function(){for(var t=0;t<c.length;t++)if(c[t].active)return c[t]},getElementById=function(t){for(var e=0;e<c.length;e++)if(c[e].id==t)return c[e]},getPrevNextElement=function(){var t=getCurrentElement(),e=[];return 0==t.id?e.push(t):e.push(getElementById(t.id-1)),t.id==c.length-1?e.push(t):e.push(getElementById(t.id+1)),e},i=function(e){var o=getCurrentElement(),n=getPrevNextElement();Math.floor(t(window).scrollTop())!=Math.floor(o.coordinates.top)&&scrollTo(o.coordinates.top),Math.floor(t(window).scrollTop())==Math.floor(o.coordinates.top)&&scrollTo(n[e].coordinates.top)},scrollTo=function(e){t("html, body").stop().animate({scrollTop:e},a.speed)},r(),n(),t(document).bind("keydown",o),t(window).bind("scroll",n),t(window).bind("resize",reinitialize),this},destroy:function(){return this}};t.fn.navigate=function(e){return h[e]?h[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.navigate"),void 0):h.init.apply(this,arguments)}}(jQuery);